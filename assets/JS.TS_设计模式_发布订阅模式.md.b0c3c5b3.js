import{_ as s,c as n,o as a,a as l}from"./app.709f5fd1.js";const p="/HuaiGu/assets/发布订阅模式.2138ebfb.jpg",o="/HuaiGu/assets/发布订阅1.a43e67f8.png",t="data:image/png;base64,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",e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYIAAACLCAYAAABsgp71AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA8oSURBVHhe7d3Lih3HHcdxPYdWEui9zGAhZLAXdsABZy0GDIkRNvgJnAwSjDDOxgpZJcpGF7LwM1gXZzEbeds51V11TnX1v+r/r+4+l1F9P1DMdFf17Zzu+lX3meHc6AAATSMIAKBxBAEANI4gAIDGEQQA0DiCAAAaRxAAQOMIAgBonDkIbt2+43+bKtXlzFnm0NY6rjWPdY31r7E/ax7TQT0/726dPere+Umbd93F2Z3uwXM/OcuwDve69aV6Hxr0+lF3dvu8e+knrV6e3+nOHh/i1Y3e0/NXfp6FYbn+2H2bTdn38VQFQSgpaV4qbaNNH5Lbdm3JCXVxm1L7WtK6atafa2tZR9ymZpsnw4XA7bvdxWs/3XvVPdgcizueUKQO/93ju5u6+k5px20n3XbsTXd576/dzZubcu9Z99bPXdtwHJvjrOq4jsB3hJP3IukgxeMQ3+f1ucBZFOj9sWj7ucYgRGcKAveCB/HvgTQvlbaZu55Dqt2fuH3u96XCutzPXMmR2qZFE9pY2q7tyY8/bcrf/VQlY+eQ7/CHC3L2yKwwun375HITAJfd5a+/dA9dEHzzi69Zmwuj8+7CHeMp35HkQiAN02w730nvNey0YLcwrMMUFsupQRBf8OnF76bTIknn59odW3wcuVIS16fLxWWu3LJz1iktU7OeJccxlwuCjz6+351//Zfut9/+5+dauAvONqoqjfz7upkdqGnZX591dzdB8HD+bUeR24c+yGY9HjuUmsAd3lexbR/8S+7gFIVgN7OsY9/H4ZnvCNIS5ks/U2EZa1mfrSNIt61Nx+J9r1muhrQey7pdm9oSk+pLZV9CELjyyWefdz//45++psx8C18YYfYWXJSmEerLp/7OwE+vKhp9Csex3b++zr+X8Wu2XWa4loY2yUjVv37b5V0Jxyy9dsK8UhBPlN6vvm5/I+klg4Itd/zKOvrt7PXOZlD1aMj6U2Nttx57EGhFEuZr9UvE2w+/l0pOrq60jGSt9dSIgyCUh999371//7tvIdHe++iDO9NturGTGrE95x0eET3tXvjpNY06FKGTdEFwdhZ3bsnr1ndamzuKaLlRuPWdenyMycg+s81xR1hzN+Dft2xHGgXfHvSvl2k/CwxBsMp2DA4eBJY2Y/GFGpU4Jf1JGMruZIxHL0kxpKxrVyPXvnY9qbC8tJ6adWvLW9dVapevC+/jnI50IAWBK198+ZVvIejPjboRZvbCq1nXiK1TevHNvj4oTrefdPLiezNuM4zU42XiIJA68HQb2vRGxSi+33bpvahYl92uLxrt9wLhdZXPuWF7a22r5CCPhmJhealI0lHD7uTz+oszesP9xTx+8YSTTiDtU1pKcvXaclbpeqzrde2kZaXlc/NjcX3aNr/sfoLg4bflO4K6W3i/j5lBQt26Iv05qR23/6uhPXxQPLob6MmdcmnkmV6HI1KnK4SmW0fYhvhaGoO2uC/B7NA2cOuecx6MSOGZcu/L2mEmW3xHkJaSUC+1k5cVEjF5E+KTK5iEhTEIUuk+1RyfVuaIl0vXF5ecXJvSMpLS8rXrqhEHwf1PP+9+fqp/RjA9F0pK54nlws0wdRzDXwzdffLGT69lOCb3vqRleyzq6Fk59kmn6wM1OeZdIMkdnB608nolde97JVOwKyzr2GeYJRYFQZBOS+I2NcuP09+fCNs32E9vlp+UiiAQl1eKpHZ+Lct6are1Rvt4Xu36aoQgOP/6z+a/GrKP4pVOpr8o543OTJ2S8hdD/XFsXtvawcyu8x0b7ZMaVHLHvTUKkuiaTLfrt3Ox2bZ4HMWOzwea9jo6/f7kXiu/HtM5kSG+XsN6+7CMt587b9TXvObcXW7Ro6EgnU5J9WGetmx/wm7abEvywrh6fZRWDoKcdN+0fc3Va8tZzd1+yrULJWZZXmtjWcdcLghcqZLtXHyHEJX8eRRd5NWGjlFeNvonslGZ/uVQCIKqfSh0iHEQqEFV7KAH8XXq9lEMIL8/2W2NAmVs0g+EMllXOlhMhfd9/ki7dGz9+2MIglxAx2x92zpWvSNI5zvSvKBUN3BvWmEk4uQSd0Q7OQZuf7RSkqvXluuFi6QwApDWE+ZZ9i2UVG5+almbMFI8zK3uzrxBQKzvhGaPzAznsIXpPD9xaqCUQtNmCEx9G1pfkLd8H23rGNosOW9rzA6CUtHE7bRlwkhoXJI3uj/Bxm0mL2DoaEMxnAiuXY1ce9t6/Am6aZt785etf8wtE4qFpV25TTi+QwdBOIfmbXdZCGz0593SY/aj2Nmd1wmwBtmCwLO8z0ObJYHqz+Ml74XpGFcaQBipQZBe3FrnkasLy1XV9xdR+mKs8EYoxH0xyLW3rkc7SUvr0erSUkNrP2edhzVzdOUu2KXn2WiQUn9hh0cih3pEsLbdQM4ehrMeibi+ohTY24HgCgOR7boq30/DcuH9rn3NljLdERyNmJzD6Oi6Xhh5ftS3ZPQJADOcdhBs7EYUu/KhhcD2GK/zrT+Aa+vkgwAAsF8EAQA0jiAAgMbduLq66igUCoXSbuGOAAAaRxAAQOMIAgBoHEEAAI0jCACgcQQBADSOIACAxhEEANA4QxAM36W6/fYk4cu1X3wT1d982r3w84O3Ty6j+um3LwEAjkcNAtfJ775HVfiC7ZdPR+HQh8K9Z91bP91/F2s0PYTCNCwAAMdR/Wio78jjjj7Vfwl3adQ/hEnuS7oBAIdFEABA4yqDQHg0lJg8GkrwaAgATktVEAwfChc6cfd5QWm0398tlIMEAHBY5iAYQqDwyMeHQLaT9yEg/dURAOB4TEEwPM4phIA60vd/gkoIAMDJ0YNAe9yjdvJvust7m/rSB8wAgKNRgsB38kIJwTA8MhKKD4bhbkKoJxgA4CRUfVgMAPjwEAQA0DiCAAAaRxAAQOMIAgBoHEEAAI0jCACgcTeurq46CoVCobRbuCMAgMYRBADQOIIAABpHEABA4wgCAGgcQQAAjSMIAKBxBAEANM4QBMmX0wjfRDb+cprpl9uPv5ym8JWXAICDU4PAdfK7r6kcQmH03cTuqyyjcOhDIf72Mfd9xtH0EArTsAAAHEf1o6G+Iy99zWT/RfalUf8QJvnvQAYAHBJBAACNqwwC4dFQYvJoKMGjIQA4LVVBMHwoXOjE3ecFpdF+f7dQDhIAwGGZg2AIgcIjHx8C2U7eh4D0V0cAgOMxBcHwOKcQAupI3/8JKiEAACdHDwLtcY/ayb/pLu9t6ksfMAMAjkYJAt/JCyUEw/DISCg+GIa7CaGeYACAk1D1YTEA4MNDEABA4wgCAGgcQQAAjSMIAKBxBAEANO7G1dVVR6FQKJR2C3cEANA4ggAAGkcQAEDjCAIAaBxBAACNIwgAoHEEAQA0jiAAgMZd6yC4dfuO/81OWmbOemqtsQ23jlKxyLWzLC+1sW43qG1/EK8fdWeb/XL75srZ43e+IvH83Le521289vMsDMu9PN9t/9bt8y77PVDAHlyLINhdIPaSE+riNqX2QVivtUji+Wn7tNTQ2sf1lt9zpDaW5YK0rZuWyhzv3//uf5vBddRnj7pM9z/wYfHguZ+eoe/sz1/5qQzLvgAra+qOIG6f+z2nZlu5ttbtW5YPSuuJhbr0Z1BaNpDaWJZzrO3mevLjT90PF49mBcK7x3fVDtrSRmNZhyksgJVdqyBwnYlWSuL6dLm4SHLzJZa2cZu0fWm69nfHTedKkJvvSHXpvFAk8fxcm6VcEHz08f3uD3/8U/fy1X/9XIt33cVZ4XGQ5zporY1GX4dtX4C1nUwQWEZCaSeiTcdcXaivWS6I24R1pSWIf3dKbeK6eF4sN21tH7j5ocTi6dyyjlRnXTawtJkjBEEoD7/73nh38Kp7sNmn8iMfSxvN0Mnr26n8/AFYwbULAq1IwnytviRuI7XX6p1cm7S9Nh3UzA/z0p9O7veUVGdd1knblkqtNAhc+eSzz/W7g/7Zv/LhrKWNyhAEq2wHqKcEQTh5h5/hIk1vXftnn9FFPLm1Tf4qI/6riD4ARnWh6BeEa1cj196ynriN1F6rd9I2pRLLTac/g9J0+nuYTn9K0mXjn462rFa/hBQEofzr3//xrQSlD2fDX/us9uHtcGeRPbf5oBhHYgoCdzFsRzL9xbG7fR1CID6xh5N9Fwa22+p93hEEuXptOSduI7XX6h1LGyetyy1n+T2Wm++EOq1NXC9NS8L8XL1TqrOQguD+p/odgf4BruWRjkF/3ZQHN2t8IA3MYQqC8Qg/vjCken9Cb0c2fhSknOCWIEilnYfWmcQdklZS8bw59Y7Uxv2MS5gX0+YHpXZSiYXpdL6TW8aJ50n1sVK9tqxm8hnBt7bPCNx5N7mDTVjaaPR1yNcScAizg2CYlxntT0Y/4ZZ4KNLJXgqCsFxNkdTOj8VtwjbSEsS/x8L8uL20XDzPSaeDJfNz28gt60h1pXWmatddIwTBF19+VfFXQ5a71XjgsxPfCffnbj/wGdpOz2N5HWO2O2dgH2YEQXzCSvX+Isk968z8Y04pCHLSzmNuR2TphGo6qtJ2Ql3605HmOdJ0KBJpfto+16YkrQ/T6c+cUr22rMYFwQ9/q/w/gv5c1P5Kx53v0zb9+WoOAnkdI3xQjCOqDoJ4JCRN5zr6HXnkM1mPwHUWWinJ1WvLOZY2gWU74Xf3My5hXiyd1pTax9tJadtJ68N07mcqN98p1VnM+s9iy4ezhmf7Kss6LPsC7In5w+JtEU7WYXS0K6NOfvIXQ/Kjoem29IvPtauRa29Zz26/bEVTapPWxeu1Fklcl7bJzY/Fdbl2bn6pLqdUty/94EO7C+078SV/25+7Sxgz7QuwJzMeDR1f6GxqO49ce8t6araltS3tRyhLpMvn1hnmSe1jYflc+1SuXpof1qutcx9GA5jCaHzbrrKjVpdLBkmndp2hHdcyCAAA6yEIAKBxShAAAD50BAEANO7G1dVVR6FQKJR2C3cEANA4ggAAGkcQAEDjCAIAaBxBAACNIwgAoHEEAQA0jiAAgMYRBADQOIIAABpHEABA4wgCAGgcQQAAjSMIAKBxBAEANI4gAIDGEQQA0DiCAAAaRxAAQOMIAgBoHEEAAI0jCACgcQQBADSOIACAxhEEANA4ggAAGkcQAEDjCAIAaBxBAACNIwgAoHEEAQA0jiAAgMYRBADQtK77P5qTs31mcPZUAAAAAElFTkSuQmCC",B=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"什么是发布订阅模式？","slug":"什么是发布订阅模式","link":"#什么是发布订阅模式","children":[]},{"level":2,"title":"代码实现","slug":"代码实现","link":"#代码实现","children":[]},{"level":2,"title":"代码测试","slug":"代码测试","link":"#代码测试","children":[{"level":3,"title":"执行结果如下：","slug":"执行结果如下","link":"#执行结果如下","children":[]},{"level":3,"title":"执行结果如下：解绑的f1函数不再触发，仅触发f2","slug":"执行结果如下-解绑的f1函数不再触发-仅触发f2","link":"#执行结果如下-解绑的f1函数不再触发-仅触发f2","children":[]},{"level":3,"title":"执行结果如下：通过once绑定的事件，仅能触发一次","slug":"执行结果如下-通过once绑定的事件-仅能触发一次","link":"#执行结果如下-通过once绑定的事件-仅能触发一次","children":[]}]}],"relativePath":"JS.TS/设计模式/发布订阅模式.md"}'),c={name:"JS.TS/设计模式/发布订阅模式.md"},r=l('<h2 id="什么是发布订阅模式" tabindex="-1">什么是发布订阅模式？ <a class="header-anchor" href="#什么是发布订阅模式" aria-hidden="true">#</a></h2><p>类似addEventListenr <img src="'+p+`" alt=""> 发布-订阅模式里面包含了三个模块，发布者，订阅者和处理中心。这里处理中心相当于报刊办事大厅。 发布者相当与某个杂志负责人，他来中心这注册一个的杂志，而订阅者相当于用户，我在中心订阅了这分杂志。 每当发布者发布了一期杂志，办事大厅就会通知订阅者来拿新杂志。</p><h2 id="代码实现" tabindex="-1">代码实现 <a class="header-anchor" href="#代码实现" aria-hidden="true">#</a></h2><p>Talk is cheap，show you my code</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 发布订阅模式</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// on 监听/订阅</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// emit 执行/发布</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// once 只执行一次</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// off解除绑定</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 派发中心接口</span></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">EventDispatch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">on</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">callback</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">emit</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">once</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">fn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">off</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">fun</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 一类事件，对应一个执行函数的数组</span></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">List</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  [</span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 调度派发中心</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Dispatch</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">implements</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">EventDispatch</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 管理着每一类事件</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">List</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 绑定/监听</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">on</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">callbackList</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> []</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">callbackList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">callback</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">callbackList</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 订阅/执行, 从第二个参数依次传给回调函数</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">emit</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">events</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">events</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">events</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 依次执行 该事件的所有回调，并传参</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">该事件还未绑定！</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 解除对某事件函数的绑定</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">off</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fun</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">events</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">events</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 找到需解绑函数在 该事件函数数组的下标，再删除</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">events</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">findIndex</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fun</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">events</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">splice</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">该事件还未绑定！</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 事件只触发一次 原理：对事件进行绑定后立马删除</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">once</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 复制临时函数</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tem</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">off</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">tem</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">on</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tem</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="代码测试" tabindex="-1">代码测试 <a class="header-anchor" href="#代码测试" aria-hidden="true">#</a></h2><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 调度中心实例</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> dispatch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Dispatch</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">f1</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">触发get事件,传参为:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">f2</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">222</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 对get事件监听，可绑定多个函数</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> f1)</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> f2)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 触发get事件</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emit</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="执行结果如下" tabindex="-1">执行结果如下： <a class="header-anchor" href="#执行结果如下" aria-hidden="true">#</a></h3><p><img src="`+o+`" alt=""></p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 解绑get事件的f1回调函数</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">off</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> f1)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 再次触发get事件</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emit</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="执行结果如下-解绑的f1函数不再触发-仅触发f2" tabindex="-1">执行结果如下：解绑的f1函数不再触发，仅触发f2 <a class="header-anchor" href="#执行结果如下-解绑的f1函数不再触发-仅触发f2" aria-hidden="true">#</a></h3><p><img src="`+t+`" alt=""></p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">f3</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">&gt;){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post事件回调函数执行</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// once监听post事件</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">once</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">f3)</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emit</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emit</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emit</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">dispatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emit</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="执行结果如下-通过once绑定的事件-仅能触发一次" tabindex="-1">执行结果如下：通过once绑定的事件，仅能触发一次 <a class="header-anchor" href="#执行结果如下-通过once绑定的事件-仅能触发一次" aria-hidden="true">#</a></h3><p><img src="`+e+'" alt=""></p>',15),A=[r];function y(F,D,C,i,d,f){return a(),n("div",null,A)}const g=s(c,[["render",y]]);export{B as __pageData,g as default};
